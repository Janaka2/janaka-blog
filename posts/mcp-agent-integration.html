<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MCP For Agent Integrations – A Practical Guide</title>
<meta name="description" content="Understand MCP and build tools with safety and clarity.">
<link rel="canonical" href="https://blog.janaka.me/posts/mcp-agent-integration.html">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
body { font-family: 'Inter', sans-serif; }
pre { padding:1.25rem; background-color: #f3f4f6; border-radius: 0.375rem; overflow-x: auto; margin-top:1rem; margin-bottom:1rem; }
code { font-family: 'Menlo', 'Monaco', Consolas, 'Liberation Mono', 'Courier New', monospace; }
</style>

    <!-- Favicon set (optional paths; place your files in assets/icons if needed) -->
    <link rel="icon" type="image/svg+xml" href="./../assets/icons/favicon.svg?v=1"/>
    <link rel="icon" type="image/png" sizes="32x32" href="./../assets/icons/favicon-32.png?v=1"/>
    <link rel="icon" type="image/png" sizes="16x16" href="./../assets/icons/favicon-16.png?v=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="./../assets/icons/apple-touch-icon.png?v=1"/>

</head>
<body class="bg-gray-50 text-gray-800">
<header class="bg-white shadow">
<div class="max-w-5xl mx-auto flex justify-between items-center py-4 px-6">
<a href="https://janaka.me" class="text-lg font-semibold text-gray-800 hover:text-indigo-600">Home</a>
<nav class="flex space-x-4">
<a href="https://blog.janaka.me" class="px-3 py-2 rounded-md text-indigo-600 font-semibold">Blog</a>
<a href="https://lab.janaka.me" class="px-3 py-2 rounded-md text-gray-600 hover:text-indigo-600">Lab</a>
<a href="https://ai.janaka.me" class="px-3 py-2 rounded-md text-gray-600 hover:text-indigo-600">AI / Agents</a>
<a href="https://cv.janaka.me" class="px-3 py-2 rounded-md text-gray-600 hover:text-indigo-600">CV</a>
</nav>
</div>
</header>

<main class="max-w-3xl mx-auto py-12 px-6">
<h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">MCP For Agent Integrations – A Practical Guide</h1>
<p class="text-sm text-gray-500 mb-6"><em>Published Oct 2025 • 10 min read</em></p>

<div class="bg-indigo-50 border-l-4 border-indigo-600 text-indigo-900 p-4 rounded-md mb-8">
<p class="font-semibold">TL;DR</p>
<ul class="list-disc ml-6 mt-2 space-y-1">
<li>Create capabilities that align with tool functions; embed them inside a unified MCP (multi-capability prompt).</li>
<li>Use guardrails: define allowed schema, restrict actions, and handle errors gracefully.</li>
<li>Iterate: test integration using pseudo-code and refine until results are predictable.</li>
</ul>
</div>

<section class="mb-8">
<h2 class="text-2xl font-semibold text-gray-900 mb-4">Why MCP?</h2>
<p class="mb-4">Multi‑capability prompts (MCP) let you mix multiple tools or APIs into a single agent workflow. They help decouple tool functions from prompts and give you more control over which functions are invoked and when. By explicitly modelling capabilities and schema, you can enforce safety and align the agent's reasoning with your business logic.</p>
<p class="mb-4">MCPs are especially useful when integrating generative AI with corporate systems. They allow you to incorporate advanced controls, role‑based access, audit logging and fallback steps to ensure nothing goes wrong when calling external tools or updating data.</p>
</section>

<section class="mb-8">
<h2 class="text-2xl font-semibold text-gray-900 mb-4">Minimal example</h2>
<p class="mb-4">Here’s a simplified pseudo‑code example showing how to construct an MCP and integrate a tool function:</p>
<pre><code>// Define the capability
{
  "name": "sendEmail",
  "description": "Send an email with subject and body",
  "parameters": {
    "type": "object",
    "properties": {
      "to": { "type": "string" },
      "subject": { "type": "string" },
      "body": { "type": "string" }
    },
    "required": ["to", "subject", "body"]
  }
}

// Compose the MCP prompt with capability description
const prompt = `
You are an assistant that can only call the "sendEmail" capability.
If the user asks you to send a message, call the function with the right JSON. 
`;

// Handler that executes the actual email send...
</code></pre>
</section>

<section class="mb-8">
<h2 class="text-2xl font-semibold text-gray-900 mb-4">Step by Step</h2>
<p class="mb-4">Follow these steps to build your own MCP for agent integrations:</p>
<ul class="list-decimal ml-6 space-y-2">
<li>Define each capability separately, including input schema, description and constraints.</li>
<li>Create a composite prompt that explicitly lists available capabilities and instructs the agent when to call them.</li>
<li>Implement tool handler functions that validate inputs, call APIs and return structured responses.</li>
<li>Write guardrails that ensure the agent can’t execute unauthorized actions or pass incorrect parameters.</li>
<li>Test iteratively using example conversations and refine the prompt and handlers as needed.</li>
</ul>
<p class="mt-4">By treating tool integrations as explicit capabilities, you make your agents both more flexible and safer. You can add or remove capabilities without rewriting the entire prompt, and you can track usage and errors in a modular way.</p>
</section>

<section class="mb-8">
<h2 class="text-2xl font-semibold text-gray-900 mb-4">Secure to your org</h2>
<p class="mb-4">When integrating with sensitive systems, security is paramount. Use role‑based access controls so that the agent only has privileges needed for each capability. Validate all inputs against schemas and sanitize outputs. Implement detailed logging and monitoring to detect misuse or anomalies.</p>
<p>Consider building a “sandbox” environment where you can test new capabilities and prompts with synthetic data before rolling them out to production. This helps you catch potential issues early and gives you confidence that your MCP integrations are robust and safe.</p>
</section>
<footer class="border-t mt-12 pt-6 text-sm text-gray-500">
  <div class="max-w-6xl mx-auto text-center">
    <p>&copy; 2025 Janaka Premathilaka. Built with ❤️ and Tailwind CSS. &nbsp;<a href="mailto:janaka2@gmail.com" class="text-indigo-600 hover:underline">Contact</a></p>
  </div>
</footer>
</main>
</body>
</html>
